<!doctype html><html lang=en dir=auto><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Tu query no devuelve nada? Culpa a NULL ü§´ | Omar Valdez G</title><meta name=keywords content="sql,tutorial,null,data engineering"><meta name=description content="NULL no es una cadena vac√≠a, es la ausencia de valor. Aprende por qu√© tus filtros fallan al usar comparaciones comunes, c√≥mo usar IS NULL correctamente y evita errores silenciosos en tus consultas SQL."><meta name=author content="Omar Valdez G"><link rel=canonical href=http://localhost:1313/posts/08-query-culpa-null/><link crossorigin=anonymous href=/assets/css/stylesheet.41163b9ab2122008ead4e34b52cda72444f0291450b642c1db4b84cc26f2863d.css integrity="sha256-QRY7mrISIAjq1ONLUs2nJETwKRRQtkLB20uEzCbyhj0=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script><link rel=icon href=http://localhost:1313/favicon/favicon.ico><link rel=icon type=image/png sizes=16x16 href=http://localhost:1313/favicon/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=http://localhost:1313/favicon/favicon-32x32.png><link rel=apple-touch-icon href=http://localhost:1313/favicon/apple-touch-icon.png><link rel=mask-icon href=http://localhost:1313/favicon/favicon-16x16.png><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=http://localhost:1313/posts/08-query-culpa-null/><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><link rel=preconnect href=https://fonts.googleapis.com><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link href="https://fonts.googleapis.com/css2?family=Fira+Code&display=swap" rel=stylesheet><script src=https://unpkg.com/typeit@8.7.1/dist/index.umd.js></script><style>body{font-family:iosevka nerd font bold,monospace}</style><meta property="og:title" content="Tu query no devuelve nada? Culpa a NULL ü§´"><meta property="og:description" content="NULL no es una cadena vac√≠a, es la ausencia de valor. Aprende por qu√© tus filtros fallan al usar comparaciones comunes, c√≥mo usar IS NULL correctamente y evita errores silenciosos en tus consultas SQL."><meta property="og:type" content="article"><meta property="og:url" content="http://localhost:1313/posts/08-query-culpa-null/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-11-23T00:00:00+00:00"><meta property="article:modified_time" content="2025-11-23T00:00:00+00:00"><meta property="og:site_name" content="Omar Valdez G"><meta name=twitter:card content="summary"><meta name=twitter:title content="Tu query no devuelve nada? Culpa a NULL ü§´"><meta name=twitter:description content="NULL no es una cadena vac√≠a, es la ausencia de valor. Aprende por qu√© tus filtros fallan al usar comparaciones comunes, c√≥mo usar IS NULL correctamente y evita errores silenciosos en tus consultas SQL."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://localhost:1313/posts/"},{"@type":"ListItem","position":2,"name":"Tu query no devuelve nada? Culpa a NULL ü§´","item":"http://localhost:1313/posts/08-query-culpa-null/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Tu query no devuelve nada? Culpa a NULL ü§´","name":"Tu query no devuelve nada? Culpa a NULL ü§´","description":"NULL no es una cadena vac√≠a, es la ausencia de valor. Aprende por qu√© tus filtros fallan al usar comparaciones comunes, c√≥mo usar IS NULL correctamente y evita errores silenciosos en tus consultas SQL.","keywords":["sql","tutorial","null","data engineering"],"articleBody":"TL;DR El error m√°s silencioso en SQL es tratar NULL como una cadena vac√≠a o como un valor comparable. NULL representa la ausencia de dato. Comparar con = o != devolver√° siempre ‚Äúfalso‚Äù (o desconocido), haciendo que tu query no devuelva resultados aunque existan datos. Para filtrar correctamente, debes usar los operadores IS NULL y IS NOT NULL. Ten cuidado tambi√©n con las funciones de agregaci√≥n como COUNT y con los JOINS.\nVideo en YouTube: click aqu√≠\nIntro ¬øAlguna vez has ejecutado una consulta SQL pensando que devolver√≠a datos, y el resultado ha sido un set vac√≠o, pero sin ning√∫n mensaje de error? Este es el error m√°s com√∫n y silencioso en el desarrollo de bases de datos.\nNo va a ‚Äúcrashear‚Äù tu aplicaci√≥n ni lanzar una excepci√≥n, simplemente te devuelve datos incompletos. En este art√≠culo, entender√°s la diferencia fundamental entre NULL y una cadena vac√≠a, y aprender√°s a escribir queries que realmente traen toda la informaci√≥n que necesitas.\nEl Escenario: Buscando lo ‚ÄúVac√≠o‚Äù Imagina que tenemos una tabla simple llamada usuarios. Algunos usuarios tienen un segundo apellido y otros no. En la base de datos, aquellos que no tienen segundo apellido no deben guardarse como un espacio en blanco o una cadena vac√≠a, sino como NULL.\nSi intentamos buscar a los usuarios que no tienen segundo apellido (Ana y Carlos), el primer instinto de muchos desarrolladores es buscar donde el apellido es una ‚Äúcadena vac√≠a‚Äù.\nEl Query Incorrecto:\nSELECT * FROM usuarios WHERE segundo_apellido = ''; Al ejecutar esto, el resultado es 0 filas. ¬øPor qu√©? Si sabemos que Ana y Carlos no tienen segundo apellido, ¬øpor qu√© no aparecen?\n¬øQu√© es realmente NULL? La confusi√≥n viene de pensar que NULL es igual a \"\" (cadena vac√≠a). No lo es.\nNULL no es un valor; es la ausencia de un valor. No es cero, no es un espacio en blanco, es simplemente ‚Äúdesconocido‚Äù. Por lo tanto, la igualdad matem√°tica o l√≥gica no aplica aqu√≠.\nSQL maneja una l√≥gica de tres estados:\nTRUE (Verdadero) FALSE (Falso) UNKNOWN (Desconocido) Cualquier comparaci√≥n directa con NULL (como = NULL, \u003c\u003e NULL, o incluso NULL = NULL) resulta en UNKNOWN. La cl√°usula WHERE solo deja pasar las filas donde la condici√≥n es TRUE. Si es UNKNOWN, la fila se filtra.\nLa Soluci√≥n: IS NULL Para preguntarle a SQL por la ausencia de un valor, no usamos comparaci√≥n, usamos una comprobaci√≥n de estado.\nEl Query Correcto:\nSELECT * FROM usuarios WHERE segundo_apellido IS NULL; Este comando funciona porque IS NULL expl√≠citamente devuelve TRUE si el valor es nulo.\nLo opuesto tambi√©n aplica: Si quieres filtrar los que S√ç tienen valor, no uses \u003c\u003e '' (ya que un NULL tambi√©n pasar√≠a el filtro en algunos contextos o fallar√≠a en otros dependiendo del motor), usa:\nSELECT * FROM usuarios WHERE segundo_apellido IS NOT NULL; Otras Trampas con NULL El problema de NULL no solo afecta a los filtros WHERE. Hay otros dos lugares comunes donde te puede jugar una mala pasada:\n1. Funciones de Agregaci√≥n (COUNT) Ten mucho cuidado al contar filas.\nCOUNT(*): Cuenta el n√∫mero total de filas en la tabla. COUNT(columna): Cuenta solo las filas donde esa columna NO es nula. Si haces COUNT(segundo_apellido) en nuestra tabla, te dar√° 2 (solo los que tienen apellido), en lugar de 4 (el total de usuarios). Si quieres contar usuarios independientemente de si tienen apellido o no, usa COUNT(*).\n2. Joins (Uniones) Al unir tablas, si no manejas los NULLs correctamente en las llaves de uni√≥n, puedes perder datos inesperadamente.\nEn un INNER JOIN: Si una columna de uni√≥n es NULL en una de las tablas, esa fila no coincidir√° con nada (ya que NULL = NULL es falso) y se perder√° del resultado. En un LEFT JOIN: Si la tabla derecha tiene NULLs, aparecer√°n en el resultado, pero debes tener cuidado de no filtrarlos despu√©s en tu cl√°usula WHERE. Conclusi√≥n Cambiar la mentalidad sobre NULL es crucial para escribir SQL robusto. Recuerda siempre:\nNULL es la ausencia de valor, no un valor vac√≠o. Nunca uses = o != o \u003c\u003e para comparar con NULL. Usa siempre IS NULL y IS NOT NULL. Ten presente c√≥mo afecta NULL a tus conteos (COUNT) y tus uniones (JOINS). La regla es simple: Siempre que trabajes con columnas que pueden ser nulas, piensa en t√©rminos de presencia o ausencia (IS), no de igualdad (=).\n","wordCount":"723","inLanguage":"en","datePublished":"2025-11-23T00:00:00Z","dateModified":"2025-11-23T00:00:00Z","author":{"@type":"Person","name":"Omar Valdez G"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:1313/posts/08-query-culpa-null/"},"publisher":{"@type":"Organization","name":"Omar Valdez G","logo":{"@type":"ImageObject","url":"http://localhost:1313/favicon/favicon.ico"}}}</script></head><body class=dark id=top><header class=header><nav class=nav><div class=logo><a href=http://localhost:1313/ accesskey=h title="~$ cd .. (Alt + H)"><img src=http://localhost:1313/favicon/favicon.ico alt aria-label=logo height=35>~$ cd ..</a><div class=logo-switches><ul class=lang-switch><li>|</li></ul></div></div><ul id=menu><li><a href=http://localhost:1313/search/ title=üîé><span>üîé</span></a></li><li><a href=http://localhost:1313/dotfiles/ title="‚Ä¢ dots"><span>‚Ä¢ dots</span></a></li><li><a href=http://localhost:1313/tags/ title="‚Ä¢ tags"><span>‚Ä¢ tags</span></a></li><li><a href=http://localhost:1313/newsletter title="‚Ä¢ newsletter"><span>‚Ä¢ newsletter</span></a></li><li><a href=http://localhost:1313/posts/ title="‚Ä¢ posts"><span>‚Ä¢ posts</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class=post-title>Tu query no devuelve nada? Culpa a NULL ü§´</h1><div class=post-meta></div></header><div class=toc><details open><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#tldr aria-label=TL;DR>TL;DR</a></li><li><a href=#intro aria-label=Intro>Intro</a></li><li><a href=#el-escenario-buscando-lo-vac%c3%ado aria-label="El Escenario: Buscando lo &ldquo;Vac√≠o&rdquo;">El Escenario: Buscando lo &ldquo;Vac√≠o&rdquo;</a></li><li><a href=#qu%c3%a9-es-realmente-null aria-label="¬øQu√© es realmente NULL?">¬øQu√© es realmente NULL?</a></li><li><a href=#la-soluci%c3%b3n-is-null aria-label="La Soluci√≥n: IS NULL">La Soluci√≥n: IS NULL</a></li><li><a href=#otras-trampas-con-null aria-label="Otras Trampas con NULL">Otras Trampas con NULL</a><ul><li><a href=#1-funciones-de-agregaci%c3%b3n-count aria-label="1. Funciones de Agregaci√≥n (COUNT)">1. Funciones de Agregaci√≥n (<code>COUNT</code>)</a></li><li><a href=#2-joins-uniones aria-label="2. Joins (Uniones)">2. Joins (Uniones)</a></li></ul></li><li><a href=#conclusi%c3%b3n aria-label=Conclusi√≥n>Conclusi√≥n</a></li></ul></div></details></div><div class=post-content><h3 id=tldr>TL;DR<a hidden class=anchor aria-hidden=true href=#tldr>#</a></h3><p>El error m√°s silencioso en SQL es tratar <code>NULL</code> como una cadena vac√≠a o como un valor comparable. <code>NULL</code> representa la <strong>ausencia de dato</strong>. Comparar con <code>=</code> o <code>!=</code> devolver√° siempre &ldquo;falso&rdquo; (o desconocido), haciendo que tu query no devuelva resultados aunque existan datos. Para filtrar correctamente, debes usar los operadores <code>IS NULL</code> y <code>IS NOT NULL</code>. Ten cuidado tambi√©n con las funciones de agregaci√≥n como <code>COUNT</code> y con los <code>JOINS</code>.</p><p>Video en YouTube: <a href="https://youtu.be/fkwaczXYrCI?si=IEAqJ1f60d_JrvYQ">click aqu√≠</a></p><h3 id=intro>Intro<a hidden class=anchor aria-hidden=true href=#intro>#</a></h3><p>¬øAlguna vez has ejecutado una consulta SQL pensando que devolver√≠a datos, y el resultado ha sido un set vac√≠o, pero sin ning√∫n mensaje de error? Este es el error m√°s com√∫n y silencioso en el desarrollo de bases de datos.</p><p>No va a &ldquo;crashear&rdquo; tu aplicaci√≥n ni lanzar una excepci√≥n, simplemente te devuelve datos incompletos. En este art√≠culo, entender√°s la diferencia fundamental entre <code>NULL</code> y una cadena vac√≠a, y aprender√°s a escribir queries que realmente traen toda la informaci√≥n que necesitas.</p><h3 id=el-escenario-buscando-lo-vac√≠o>El Escenario: Buscando lo &ldquo;Vac√≠o&rdquo;<a hidden class=anchor aria-hidden=true href=#el-escenario-buscando-lo-vac√≠o>#</a></h3><p>Imagina que tenemos una tabla simple llamada <code>usuarios</code>. Algunos usuarios tienen un segundo apellido y otros no. En la base de datos, aquellos que no tienen segundo apellido no deben guardarse como un espacio en blanco o una cadena vac√≠a, sino como <code>NULL</code>.</p><p>Si intentamos buscar a los usuarios que <em>no</em> tienen segundo apellido (Ana y Carlos), el primer instinto de muchos desarrolladores es buscar donde el apellido es una &ldquo;cadena vac√≠a&rdquo;.</p><p><strong>El Query Incorrecto:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span> usuarios
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span> segundo_apellido <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;&#39;</span>;
</span></span></code></pre></div><p>Al ejecutar esto, el resultado es <code>0 filas</code>. ¬øPor qu√©? Si sabemos que Ana y Carlos no tienen segundo apellido, ¬øpor qu√© no aparecen?</p><h3 id=qu√©-es-realmente-null>¬øQu√© es realmente NULL?<a hidden class=anchor aria-hidden=true href=#qu√©-es-realmente-null>#</a></h3><p>La confusi√≥n viene de pensar que <code>NULL</code> es igual a <code>""</code> (cadena vac√≠a). <strong>No lo es.</strong></p><p><code>NULL</code> no es un valor; es la <strong>ausencia de un valor</strong>. No es cero, no es un espacio en blanco, es simplemente &ldquo;desconocido&rdquo;. Por lo tanto, la igualdad matem√°tica o l√≥gica no aplica aqu√≠.</p><p>SQL maneja una <strong>l√≥gica de tres estados</strong>:</p><ol><li><code>TRUE</code> (Verdadero)</li><li><code>FALSE</code> (Falso)</li><li><code>UNKNOWN</code> (Desconocido)</li></ol><p>Cualquier comparaci√≥n directa con <code>NULL</code> (como <code>= NULL</code>, <code>&lt;> NULL</code>, o incluso <code>NULL = NULL</code>) resulta en <code>UNKNOWN</code>. La cl√°usula <code>WHERE</code> solo deja pasar las filas donde la condici√≥n es <code>TRUE</code>. Si es <code>UNKNOWN</code>, la fila se filtra.</p><h3 id=la-soluci√≥n-is-null>La Soluci√≥n: IS NULL<a hidden class=anchor aria-hidden=true href=#la-soluci√≥n-is-null>#</a></h3><p>Para preguntarle a SQL por la ausencia de un valor, no usamos comparaci√≥n, usamos una <strong>comprobaci√≥n de estado</strong>.</p><p><strong>El Query Correcto:</strong></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span> usuarios
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span> segundo_apellido <span style=color:#66d9ef>IS</span> <span style=color:#66d9ef>NULL</span>;
</span></span></code></pre></div><p>Este comando funciona porque <code>IS NULL</code> expl√≠citamente devuelve <code>TRUE</code> si el valor es nulo.</p><p><strong>Lo opuesto tambi√©n aplica:</strong>
Si quieres filtrar los que S√ç tienen valor, no uses <code>&lt;> ''</code> (ya que un NULL tambi√©n pasar√≠a el filtro en algunos contextos o fallar√≠a en otros dependiendo del motor), usa:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sql data-lang=sql><span style=display:flex><span><span style=color:#66d9ef>SELECT</span> <span style=color:#f92672>*</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>FROM</span> usuarios
</span></span><span style=display:flex><span><span style=color:#66d9ef>WHERE</span> segundo_apellido <span style=color:#66d9ef>IS</span> <span style=color:#66d9ef>NOT</span> <span style=color:#66d9ef>NULL</span>;
</span></span></code></pre></div><h3 id=otras-trampas-con-null>Otras Trampas con NULL<a hidden class=anchor aria-hidden=true href=#otras-trampas-con-null>#</a></h3><p>El problema de <code>NULL</code> no solo afecta a los filtros <code>WHERE</code>. Hay otros dos lugares comunes donde te puede jugar una mala pasada:</p><h4 id=1-funciones-de-agregaci√≥n-count>1. Funciones de Agregaci√≥n (<code>COUNT</code>)<a hidden class=anchor aria-hidden=true href=#1-funciones-de-agregaci√≥n-count>#</a></h4><p>Ten mucho cuidado al contar filas.</p><ul><li><code>COUNT(*)</code>: Cuenta el n√∫mero total de filas en la tabla.</li><li><code>COUNT(columna)</code>: Cuenta solo las filas donde esa columna <strong>NO</strong> es nula.</li></ul><p>Si haces <code>COUNT(segundo_apellido)</code> en nuestra tabla, te dar√° <code>2</code> (solo los que tienen apellido), en lugar de <code>4</code> (el total de usuarios). Si quieres contar usuarios independientemente de si tienen apellido o no, usa <code>COUNT(*)</code>.</p><h4 id=2-joins-uniones>2. Joins (Uniones)<a hidden class=anchor aria-hidden=true href=#2-joins-uniones>#</a></h4><p>Al unir tablas, si no manejas los <code>NULLs</code> correctamente en las llaves de uni√≥n, puedes perder datos inesperadamente.</p><ul><li>En un <code>INNER JOIN</code>: Si una columna de uni√≥n es <code>NULL</code> en una de las tablas, esa fila no coincidir√° con nada (ya que <code>NULL = NULL</code> es falso) y se perder√° del resultado.</li><li>En un <code>LEFT JOIN</code>: Si la tabla derecha tiene <code>NULLs</code>, aparecer√°n en el resultado, pero debes tener cuidado de no filtrarlos despu√©s en tu cl√°usula <code>WHERE</code>.</li></ul><h3 id=conclusi√≥n>Conclusi√≥n<a hidden class=anchor aria-hidden=true href=#conclusi√≥n>#</a></h3><p>Cambiar la mentalidad sobre <code>NULL</code> es crucial para escribir SQL robusto. Recuerda siempre:</p><ol><li><code>NULL</code> es la <strong>ausencia</strong> de valor, no un valor vac√≠o.</li><li>Nunca uses <code>=</code> o <code>!=</code> o <code>&lt;></code> para comparar con <code>NULL</code>.</li><li>Usa siempre <code>IS NULL</code> y <code>IS NOT NULL</code>.</li><li>Ten presente c√≥mo afecta <code>NULL</code> a tus conteos (<code>COUNT</code>) y tus uniones (<code>JOINS</code>).</li></ol><p>La regla es simple: Siempre que trabajes con columnas que pueden ser nulas, piensa en t√©rminos de presencia o ausencia (<code>IS</code>), no de igualdad (<code>=</code>).</p><p>¬†</p></div><footer class=post-footer><ul class=post-tags><li><a href=http://localhost:1313/tags/sql/>Sql</a></li><li><a href=http://localhost:1313/tags/tutorial/>Tutorial</a></li><li><a href=http://localhost:1313/tags/null/>Null</a></li><li><a href=http://localhost:1313/tags/data-engineering/>Data Engineering</a></li></ul><nav class=paginav><a class=prev href=http://localhost:1313/posts/09-analyst-engineer-scientist-diff/><span class=title>¬´ Prev</span><br><span>Analyst vs Engineer vs Scientist: Diferencias Reales üéØ</span>
</a><a class=next href=http://localhost:1313/posts/07-por-que-modelado-falla/><span class=title>Next ¬ª</span><br><span>Por QU√â tu MODELADO FALLA (No es lo que Piensas) üî•</span></a></nav><div class=newsletter-wrapper><script async src=https://eocampaign1.com/form/0d56db8e-de34-11f0-9838-c955fe4b6ecd.js data-form=0d56db8e-de34-11f0-9838-c955fe4b6ecd></script></div><div id=cusdis_thread data-host=https://cusdis.com data-app-id=f9b750aa-55fe-4da9-82cf-45aa511cea20 data-app-id=414adb98-9af8-4403-bdc5-ba55ae808bea data-page-id=444c0257ce51be165103d070539282c9 data-page-url=http://localhost:1313/posts/08-query-culpa-null/ data-page-title="Tu query no devuelve nada? Culpa a NULL ü§´"></div><script async defer src=https://cusdis.com/js/cusdis.es.js></script></footer></article></main><script async defer src=https://scripts.withcabin.com/hello.js></script></body></html>